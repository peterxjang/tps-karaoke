<template name="admin">
  <div class="ui segment" id="main">
    <div class="ui top attached secondary pointing menu">
      <a class="active item" data-tab="first"><i class="comment icon"></i>Messages</a>
      <a class="item" data-tab="second"><i class="music icon"></i>Requests</a>
      <a class="item" data-tab="third"><i class="file text icon"></i>Song database</a>
    </div>
    <div class="ui bottom attached active tab segment" data-tab="first">
      {{> adminMessageFeed}}
    </div>
    <div class="ui bottom attached tab segment" data-tab="second">
      {{> adminGenreRequests}}
    </div>
    <div class="ui bottom attached tab segment" data-tab="third">
      {{> adminSongDatabase}}
    </div>
  </div>
</template>

<template name="adminMessageFeed">
  <div class="ui feed">
  {{#each messages}}
    <div class="event">
      <div class="content">
        <div class="summary">
          <a class="user">{{username}}</a> postedo <div class="date">{{createdAt}}</div>
        </div>
        <div class="extra text">
          {{text}}
        </div>
      </div>
    </div>
  {{/each}}
  </div>
</template>

<template name="adminGenreRequests">
  {{#each genres}}
    <div class="label" id="add-vote" name="{{name}}">{{name}}: {{votes}} out of {{totalVotes}} ({{percent}}%)</div>
    <div class="ui green inverted segment" style="width:{{percent}}%;margin-top:0"></div>
  {{/each}}
  <button class="ui button" id="button-clear-votes">
    <i class="user icon"></i>
    Clear votes
  </button>
  <button class="ui button" id="button-add-genre">
    <i class="plus icon"></i>
    Add a genre
  </button>
  <div class="ui action input" id="input-submit-genre" style="display:none">
    <input type="text" placeholder="Name of genre">
    <button class="ui button">Submit</button>
  </div>
</template>

<template name="adminSongDatabase">
  <form class="ui form" id="form-csv">
    <div class="header">Upload csv:</div>
    <div class="field">
      <input type="file" id="file-csv" name="file-csv" />
    </div>
    <button type="submit" class="ui submit button">Submit</button>

    <div class="ui info message" style="display:none">
      <i class="close icon"></i>
      <div class="header">Song upload:</div>
      <p></p>
    </div>

  </form>
</template>